<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title">{{this.title}} Utilisateur Système</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <div class="form-group pb-2">
        <input type="text" name="matricule" class="form-control" id="matricule" placeholder="Matricule"
          formControlName="matricule">
          <div *ngIf="userForm.controls.matricule.invalid && (userForm.controls.matricule.dirty || userForm.controls.matricule.touched)"
          class="alert alert-danger">
          <div *ngIf="userForm.controls.matricule.errors?.['required']">
            Ce champ est obligatoire.
          </div>
          <div *ngIf="userForm.controls.matricule.errors?.['maxlength']">
            Longeur ne doit pas dépasser 20.
          </div>
        </div>
      </div>
      <div class="form-group pb-2">
        <input type="text" name="lastName" class="form-control" id="lastName" placeholder="Prénom"
          formControlName="lastName">
          <div *ngIf="userForm.controls.lastName.invalid && (userForm.controls.lastName.dirty || userForm.controls.lastName.touched)"
          class="alert alert-danger">
          <div *ngIf="userForm.controls.lastName.errors?.['required']">
            Ce champ est obligatoire.
          </div>
          <div *ngIf="userForm.controls.lastName.errors?.['maxlength']">
            Longeur ne doit pas dépasser 30.
          </div>
        </div>
      </div>
      <div class="form-group pb-2">
        <input type="text" name="firstName" class="form-control" id="firstName" placeholder="Nom"
          formControlName="firstName">
          <div *ngIf="userForm.controls.firstName.invalid && (userForm.controls.firstName.dirty || userForm.controls.firstName.touched)"
          class="alert alert-danger">
          <div *ngIf="userForm.controls.firstName.errors?.['required']">
            Ce champ est obligatoire.
          </div>
          <div *ngIf="userForm.controls.firstName.errors?.['maxlength']">
            Longeur ne doit pas dépasser 30.
          </div>
        </div>
      </div>
      <div class="form-group pb-2">
        <input type="text" name="email" class="form-control" id="email" placeholder="E-mail" formControlName="email">
        <div *ngIf="userForm.controls.email.invalid && (userForm.controls.email.dirty || userForm.controls.email.touched)"
          class="alert alert-danger">
          <div *ngIf="userForm.controls.email.errors?.['required']">
            Ce champ est obligatoire.
          </div>
          <div *ngIf="userForm.controls.email.errors?.['maxlength']">
            Longeur ne doit pas dépasser 40.
          </div>
          <div *ngIf="userForm.controls.email.errors?.['email']">
            format invalide.
          </div>
        </div>
      </div>
      <div class="form-group pb-2">
        <input type="password" name="password" class="form-control" id="password" placeholder="Mot de passe"
          formControlName="password">
          <div *ngIf="userForm.controls.password.invalid && (userForm.controls.password.dirty || userForm.controls.password.touched)"
          class="alert alert-danger">
          <div *ngIf="userForm.controls.password.errors?.['required']">
            Ce champ est obligatoire.
          </div>
          <div *ngIf="userForm.controls.password.errors?.['maxlength']">
            Longeur ne doit pas dépasser 20.
          </div>
          <div *ngIf="userForm.controls.password.errors?.['minlength']">
            Le mot de passe doit être au moins de 6 caractères
          </div>
        </div>
      </div>
      <div class="form-group pb-2">
        <ng-multiselect-dropdown [placeholder]="'Roles'" [settings]="dropdownSettings" [data]="dropdownList"
          formControlName="roles" (onSelect)="onItemSelect($event)" (onSelectAll)="onSelectAll($event)">
        </ng-multiselect-dropdown>
        <div *ngIf="userForm.controls.roles.invalid && (userForm.controls.roles.dirty || userForm.controls.roles.touched)"
          class="alert alert-danger">
          <div *ngIf="userForm.controls.roles.errors?.['required']">
            Ce champ est obligatoire.
          </div>
        </div>
      </div>
      <div class="form-group pb-2">
        <ng-multiselect-dropdown [placeholder]="'Profils'" [settings]="dropdownSettings2" [data]="dropdownList2"
          formControlName="profiles" (onSelect)="onItemSelect($event)" (onSelectAll)="onSelectAll($event)">
        </ng-multiselect-dropdown>
        <div *ngIf="userForm.controls.profiles.invalid && (userForm.controls.profiles.dirty || userForm.controls.profiles.touched)"
          class="alert alert-danger">
          <div *ngIf="userForm.controls.profiles.errors?.['required']">
            Ce champ est obligatoire.
          </div>
        </div>
      </div>
      <div class="form-group pb-2">
        <input class="mx-2 form-check-input" type="checkbox" id="enabled" formControlName="enabled">
        <label class="ml-5 form-check-label" for="enabled">
          Actif
        </label>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-dark float-left" [disabled]="!this.userForm.valid" (click)="modal.close('Close click')">Enregistrer</button>
        <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Annuler</button>
      </div>
    </form>
  </div>
</ng-template>
<button class="btn btn-outline-dark mb-2 me-2" (click)="openVerticallyCentered(content)">
  <i *ngIf="this.icon; else modifier" class="fa fa-plus" aria-hidden="true"></i>
  <ng-template #modifier><i class="fa fa-edit" aria-hidden="true"></i></ng-template>
</button>